let h=0;
let s=0;
let v=0;

function onAnalyzerUpdate(delta){
    if(vol === 0 || freq === 0 || vol < lVol || freq === lFreq){
        if(v > 0.1){ v-=0.1; }
        else{ v=0; }
    } else {
        h=map(freq,0,maxF,180,0);
        s=1;
        v=map(vol,0,100,0,1);
    }
}

function updateLed(index){
    return xhsv(h,s,v);
}